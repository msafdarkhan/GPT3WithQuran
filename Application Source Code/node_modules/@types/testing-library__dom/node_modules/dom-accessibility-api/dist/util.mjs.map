{"version":3,"sources":["../sources/util.ts"],"names":["getRole","isElement","node","nodeType","ELEMENT_NODE","isHTMLTableCaptionElement","tagName","isHTMLInputElement","isHTMLSelectElement","isHTMLTableElement","isHTMLTextAreaElement","safeWindow","ownerDocument","defaultView","TypeError","isHTMLFieldSetElement","isHTMLLegendElement","isSVGElement","ownerSVGElement","undefined","isSVGSVGElement","isSVGTitleElement","queryIdRefs","attributeName","hasAttribute","ids","getAttribute","split","map","id","getElementById","filter","element","hasAnyConcreteRoles","roles","indexOf"],"mappings":"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","sourcesContent":["import getRole from \"./getRole\";\n\nexport function isElement(node: Node | null): node is Element {\n\treturn node !== null && node.nodeType === node.ELEMENT_NODE;\n}\n\nexport function isHTMLTableCaptionElement(\n\tnode: Node | null\n): node is HTMLTableCaptionElement {\n\treturn isElement(node) && node.tagName === \"CAPTION\";\n}\n\nexport function isHTMLInputElement(\n\tnode: Node | null\n): node is HTMLInputElement {\n\treturn isElement(node) && node.tagName === \"INPUT\";\n}\n\nexport function isHTMLSelectElement(\n\tnode: Node | null\n): node is HTMLSelectElement {\n\treturn isElement(node) && node.tagName === \"SELECT\";\n}\n\nexport function isHTMLTableElement(\n\tnode: Node | null\n): node is HTMLTableElement {\n\treturn isElement(node) && node.tagName === \"TABLE\";\n}\n\nexport function isHTMLTextAreaElement(\n\tnode: Node | null\n): node is HTMLTextAreaElement {\n\treturn isElement(node) && node.tagName === \"TEXTAREA\";\n}\n\nexport function safeWindow(node: Node): Window {\n\tconst { defaultView } =\n\t\tnode.ownerDocument === null ? (node as Document) : node.ownerDocument;\n\n\tif (defaultView === null) {\n\t\tthrow new TypeError(\"no window available\");\n\t}\n\treturn defaultView;\n}\n\nexport function isHTMLFieldSetElement(\n\tnode: Node | null\n): node is HTMLFieldSetElement {\n\treturn isElement(node) && node.tagName === \"FIELDSET\";\n}\n\nexport function isHTMLLegendElement(\n\tnode: Node | null\n): node is HTMLLegendElement {\n\treturn isElement(node) && node.tagName === \"LEGEND\";\n}\n\nexport function isSVGElement(node: Node | null): node is SVGElement {\n\treturn isElement(node) && (node as SVGElement).ownerSVGElement !== undefined;\n}\n\nexport function isSVGSVGElement(node: Node | null): node is SVGSVGElement {\n\treturn isElement(node) && node.tagName === \"svg\";\n}\n\nexport function isSVGTitleElement(node: Node | null): node is SVGTitleElement {\n\treturn isSVGElement(node) && node.tagName === \"title\";\n}\n\n/**\n *\n * @param {Node} node -\n * @param {string} attributeName -\n * @returns {Element[]} -\n */\nexport function queryIdRefs(node: Node, attributeName: string): Element[] {\n\tif (isElement(node) && node.hasAttribute(attributeName)) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- safe due to hasAttribute check\n\t\tconst ids = node.getAttribute(attributeName)!.split(\" \");\n\n\t\treturn ids\n\t\t\t.map((id) => node.ownerDocument.getElementById(id))\n\t\t\t.filter(\n\t\t\t\t(element: Element | null): element is Element => element !== null\n\t\t\t\t// TODO: why does this not narrow?\n\t\t\t) as Element[];\n\t}\n\n\treturn [];\n}\n\nexport function hasAnyConcreteRoles(\n\tnode: Node,\n\troles: Array<string | null>\n): node is Element {\n\tif (isElement(node)) {\n\t\treturn roles.indexOf(getRole(node)) !== -1;\n\t}\n\treturn false;\n}\n"],"file":"util.mjs"}
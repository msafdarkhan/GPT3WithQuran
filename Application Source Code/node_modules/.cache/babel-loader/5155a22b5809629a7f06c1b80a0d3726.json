{"ast":null,"code":"var _jsxFileName = \"E:\\\\Training\\\\gpt3\\\\Quran\\\\src\\\\App.js\";\nimport React from \"react\";\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { debounce } from \"lodash\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nconst UI_PARAMS_API_URL = \"/params\";\nconst TRANSLATE_API_URL = \"/translate\";\nconst EXAMPLE_API_URL = \"/examples\";\nconst DEBOUNCE_INPUT = 250;\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.debouncedUpdateExample = debounce(this.updateExample, DEBOUNCE_INPUT);\n\n    this.handleExampleChange = (id, field) => e => {\n      const text = e.target.value;\n      let body = {\n        [field]: text\n      };\n      let examples = { ...this.state.examples\n      };\n      examples[id][field] = text;\n      this.setState({\n        examples\n      });\n      this.debouncedUpdateExample(id, body);\n    };\n\n    this.handleExampleDelete = id => e => {\n      e.preventDefault();\n      axios.delete(`${EXAMPLE_API_URL}/${id}`).then(({\n        data: examples\n      }) => {\n        this.setState({\n          examples\n        });\n      });\n    };\n\n    this.handleExampleAdd = e => {\n      e.preventDefault();\n      axios.post(EXAMPLE_API_URL).then(({\n        data: examples\n      }) => {\n        this.setState({\n          examples\n        });\n      });\n    };\n\n    this.state = {\n      output: \"\",\n      input: \"\",\n      buttonText: \"Submit\",\n      description: \"Description\",\n      showExampleForm: false,\n      examples: {}\n    }; // Bind the event handlers\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    // Call API for the UI params\n    axios.get(UI_PARAMS_API_URL).then(({\n      data: {\n        placeholder,\n        button_text,\n        description,\n        show_example_form\n      }\n    }) => {\n      this.setState({\n        input: placeholder,\n        buttonText: button_text,\n        description: description,\n        showExampleForm: show_example_form\n      });\n\n      if (this.state.showExampleForm) {\n        axios.get(EXAMPLE_API_URL).then(({\n          data: examples\n        }) => {\n          this.setState({\n            examples\n          });\n        });\n      }\n    });\n  }\n\n  updateExample(id, body) {\n    axios.put(`${EXAMPLE_API_URL}/${id}`, body);\n  }\n\n  handleInputChange(e) {\n    this.setState({\n      input: e.target.value\n    });\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    let body = {\n      prompt: this.state.input\n    };\n    axios.post(TRANSLATE_API_URL, body).then(({\n      data: {\n        text\n      }\n    }) => {\n      this.setState({\n        output: text\n      });\n    });\n  }\n\n  render() {\n    const showExampleForm = this.state.showExampleForm;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"head\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"body\", {\n      style: {\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: \"auto\",\n        marginTop: \"80px\",\n        display: \"block\",\n        maxWidth: \"500px\",\n        minWidth: \"200px\",\n        width: \"50%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, showExampleForm && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        marginBottom: \"25px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, \"Examples\"), Object.values(this.state.examples).map(example => /*#__PURE__*/React.createElement(\"span\", {\n      key: example.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formExampleInput\" + example.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: \"sm\",\n      lg: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 27\n      }\n    }, \"Example Input\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      as: \"input\",\n      placeholder: \"Enter text\",\n      value: example.input,\n      onChange: this.handleExampleChange(example.id, \"input\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formExampleOutput\" + example.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: \"sm\",\n      lg: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 27\n      }\n    }, \"Example Output\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      as: \"textarea\",\n      placeholder: \"Enter text\",\n      value: example.output,\n      onChange: this.handleExampleChange(example.id, \"output\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: {\n        span: 10,\n        offset: 2\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      size: \"sm\",\n      variant: \"danger\",\n      onClick: this.handleExampleDelete(example.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 29\n      }\n    }, \"Delete example\"))))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: {\n        span: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      variant: \"primary\",\n      onClick: this.handleExampleAdd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 25\n      }\n    }, \"Add example\")))), /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }, this.state.description), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      as: \"textarea\",\n      placeholder: \"Enter text\",\n      value: this.state.input,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      style: {\n        textAlign: \"center\",\n        margin: \"20px\",\n        fontSize: \"18pt\"\n      },\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }, this.state.buttonText)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\",\n        margin: \"20px\",\n        fontSize: \"18pt\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    }, this.state.output))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["E:/Training/gpt3/Quran/src/App.js"],"names":["React","Form","Button","Row","Col","axios","debounce","UI_PARAMS_API_URL","TRANSLATE_API_URL","EXAMPLE_API_URL","DEBOUNCE_INPUT","App","Component","constructor","props","debouncedUpdateExample","updateExample","handleExampleChange","id","field","e","text","target","value","body","examples","state","setState","handleExampleDelete","preventDefault","delete","then","data","handleExampleAdd","post","output","input","buttonText","description","showExampleForm","handleInputChange","bind","handleClick","componentDidMount","get","placeholder","button_text","show_example_form","put","prompt","render","alignItems","justifyContent","margin","marginTop","display","maxWidth","minWidth","width","marginBottom","Object","values","map","example","span","offset","textAlign","fontSize"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { debounce } from \"lodash\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst UI_PARAMS_API_URL = \"/params\";\r\nconst TRANSLATE_API_URL = \"/translate\";\r\nconst EXAMPLE_API_URL = \"/examples\";\r\n\r\nconst DEBOUNCE_INPUT = 250;\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      output: \"\",\r\n      input: \"\",\r\n      buttonText: \"Submit\",\r\n      description: \"Description\",\r\n      showExampleForm: false,\r\n      examples: {}\r\n    };\r\n    // Bind the event handlers\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Call API for the UI params\r\n    axios\r\n      .get(UI_PARAMS_API_URL)\r\n      .then(\r\n        ({\r\n          data: { placeholder, button_text, description, show_example_form }\r\n        }) => {\r\n          this.setState({\r\n            input: placeholder,\r\n            buttonText: button_text,\r\n            description: description,\r\n            showExampleForm: show_example_form\r\n          });\r\n          if (this.state.showExampleForm) {\r\n            axios.get(EXAMPLE_API_URL).then(({ data: examples }) => {\r\n              this.setState({ examples });\r\n            });\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  updateExample(id, body) {\r\n    axios.put(`${EXAMPLE_API_URL}/${id}`, body);\r\n  }\r\n\r\n  debouncedUpdateExample = debounce(this.updateExample, DEBOUNCE_INPUT);\r\n\r\n  handleExampleChange = (id, field) => e => {\r\n    const text = e.target.value;\r\n\r\n    let body = { [field]: text };\r\n    let examples = { ...this.state.examples };\r\n    examples[id][field] = text;\r\n\r\n    this.setState({ examples });\r\n    this.debouncedUpdateExample(id, body);\r\n  };\r\n\r\n  handleExampleDelete = id => e => {\r\n    e.preventDefault();\r\n    axios.delete(`${EXAMPLE_API_URL}/${id}`).then(({ data: examples }) => {\r\n      this.setState({ examples });\r\n    });\r\n  };\r\n\r\n  handleExampleAdd = e => {\r\n    e.preventDefault();\r\n    axios.post(EXAMPLE_API_URL).then(({ data: examples }) => {\r\n      this.setState({ examples });\r\n    });\r\n  };\r\n\r\n  handleInputChange(e) {\r\n    this.setState({ input: e.target.value });\r\n  }\r\n\r\n  handleClick(e) {\r\n    e.preventDefault();\r\n    let body = {\r\n      prompt: this.state.input\r\n    };\r\n    axios.post(TRANSLATE_API_URL, body).then(({ data: { text } }) => {\r\n      this.setState({ output: text });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const showExampleForm = this.state.showExampleForm;\r\n    return (\r\n      <div>\r\n        <head />\r\n        <body style={{ alignItems: \"center\", justifyContent: \"center\" }}>\r\n          <div\r\n            style={{\r\n              margin: \"auto\",\r\n              marginTop: \"80px\",\r\n              display: \"block\",\r\n              maxWidth: \"500px\",\r\n              minWidth: \"200px\",\r\n              width: \"50%\"\r\n            }}\r\n          >\r\n            <Form onSubmit={this.handleClick}>\r\n              <Form.Group controlId=\"formBasicEmail\">\r\n                {showExampleForm && (\r\n                  <div>\r\n                    <h4 style={{ marginBottom: \"25px\" }}>Examples</h4>\r\n                    {Object.values(this.state.examples).map(example => (\r\n                      <span key={example.id}>\r\n                        <Form.Group\r\n                          as={Row}\r\n                          controlId={\"formExampleInput\" + example.id}\r\n                        >\r\n                          <Form.Label column=\"sm\" lg={2}>\r\n                            Example Input\r\n                          </Form.Label>\r\n                          <Col sm={10}>\r\n                            <Form.Control\r\n                              type=\"text\"\r\n                              as=\"input\"\r\n                              placeholder=\"Enter text\"\r\n                              value={example.input}\r\n                              onChange={this.handleExampleChange(\r\n                                example.id,\r\n                                \"input\"\r\n                              )}\r\n                            />\r\n                          </Col>\r\n                        </Form.Group>\r\n                        <Form.Group\r\n                          as={Row}\r\n                          controlId={\"formExampleOutput\" + example.id}\r\n                        >\r\n                          <Form.Label column=\"sm\" lg={2}>\r\n                            Example Output\r\n                          </Form.Label>\r\n                          <Col sm={10}>\r\n                            <Form.Control\r\n                              type=\"text\"\r\n                              as=\"textarea\"\r\n                              placeholder=\"Enter text\"\r\n                              value={example.output}\r\n                              onChange={this.handleExampleChange(\r\n                                example.id,\r\n                                \"output\"\r\n                              )}\r\n                            />\r\n                          </Col>\r\n                        </Form.Group>\r\n                        <Form.Group as={Row}>\r\n                          <Col sm={{ span: 10, offset: 2 }}>\r\n                            <Button\r\n                              type=\"button\"\r\n                              size=\"sm\"\r\n                              variant=\"danger\"\r\n                              onClick={this.handleExampleDelete(example.id)}\r\n                            >\r\n                              Delete example\r\n                            </Button>\r\n                          </Col>\r\n                        </Form.Group>\r\n                      </span>\r\n                    ))}\r\n                    <Form.Group as={Row}>\r\n                      <Col sm={{ span: 10 }}>\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"primary\"\r\n                          onClick={this.handleExampleAdd}\r\n                        >\r\n                          Add example\r\n                        </Button>\r\n                      </Col>\r\n                    </Form.Group>\r\n                  </div>\r\n                )}\r\n                <Form.Label>{this.state.description}</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  as=\"textarea\"\r\n                  placeholder=\"Enter text\"\r\n                  value={this.state.input}\r\n                  onChange={this.handleInputChange}\r\n                />\r\n              </Form.Group>\r\n\r\n              <Button style={{\r\n                textAlign: \"center\",\r\n                margin: \"20px\",\r\n                fontSize: \"18pt\"\r\n              }} variant=\"primary\" type=\"submit\">\r\n                {this.state.buttonText}\r\n              </Button>\r\n            </Form>\r\n            <div\r\n              style={{\r\n                textAlign: \"center\",\r\n                margin: \"20px\",\r\n                fontSize: \"18pt\"\r\n              }}\r\n            >\r\n              {this.state.output}\r\n            </div>\r\n          </div>\r\n        </body>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}